local Event = require "Core.Event"
local require = require
local Base = require "core.Object"
local TimerManager = class(Base)
local table = table

--[[
    @desc:  计时器管理器 
    author:{author}
    time:2018-10-14 12:40:48
    --@args: 
    @return:
]]
function TimerManager:ctor(...)
    Base.ctor(self, ...)
end

function TimerManager:InitData()
   self.Event = Event.new()
end

function Global.FireEvent(eid, ...)
    Global.Event:FireEvent(eid, ...)
end


function TimerManager:Update(...)
    local i = 1
    while i <= #self.AllTimer do
        if (self.AllTimer[i]).destory then
            table.remove(self.AllTimer, i)
        else
            (self.AllTimer[i]):Process()
            i = i + 1
        end
    end
end

function TimerManager:AddTimer(timer)
    table.insert(self.AllTimer, timer)
end

return TimerManager
