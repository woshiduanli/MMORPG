local Base = GameUI
local CSelectZoneUI = class(Base)

function CSelectZoneUI:ctor(ui)
    Base.ctor(self, ui)
    self.IsFullScreen = true
    self.Layer = UIManager.Layer.FullWindow
end

function CSelectZoneUI:Initialize()
     self.timeraaa = self:AddTimer(self:GetSelfFunc(self.Update), false, 1, 100)
    -- self:RegEvent(EventCode.UnityUpdate.FrameUpdate, self:GetSelfFunc(self.Update2))
    self:SetEvent(
        self.HashIDTable.btn_EnterGame,
        UIManager.EID.PointerClick,
        self:GetSelfFunc(CSelectZoneUI.OnClickbtn_EnterGame)
    )
    self:SetEvent(
        self.HashIDTable.btn_Exit,
        UIManager.EID.PointerClick,
        self:GetSelfFunc(CSelectZoneUI.OnClickbtn_Exit)
    )
    --self:SetCText(self.HashIDTable.text_zone,"待赋的值")
end
CSelectZoneUI.i = 0

CSelectZoneUI.istrue = false

function CSelectZoneUI:Update2()
     print("更新吧孩子1")
end 

function CSelectZoneUI:Update()
    print("更新吧孩子")
    CSelectZoneUI.i = CSelectZoneUI.i + 1
    print("我的计数" .. CSelectZoneUI.i)
    -- if (CSelectZoneUI.i > 10) then
    --     return true
    -- end

    if self.istrue then
        self:UnRegEvent(EventCode.UnityUpdate.FrameUpdate)
    end
   
end

function CSelectZoneUI:OnClickbtn_EnterGame()
    -- self.timeraaa.pause = false

    print("OnClickbtn_EnterGame")

    -- NetManager.RegE(require("Proto.RoleOperation_LogOnGameServerReturnProto").New(), CSelectZoneUI.RecServerData)
    
    -- CSGlobal.RegProto(10002, CSelectZoneUI.RecServerData)
    local proto = require("Proto.RoleOperation_LogOnGameServerProto").New() --实例化一个协议对象
    proto.AccountId = ObjectManager.GetSingleObj("LoginData").AccountId
    proto.SendProto(proto)
end



function CSelectZoneUI:OnClickbtn_Exit()
    self:Close()
    self:FireEvent(EventCode.UI.OpenUI, "Login")
end

function CSelectZoneUI:UIEnable()
    Base.UIEnable (self)
end

function CSelectZoneUI:UIDisable()
    Base.UIDisable (self)
end


function CSelectZoneUI:LoadUICallback()
end

function CSelectZoneUI:OnDestroy()
end

return CSelectZoneUI
